<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        /* Default button style */
        #myButton {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }

        /* Button style for volume 1 */
        .volume-1 {
            background-color: brown;
        }

        /* Button style for volume 2 */
        .volume-2 {
            background-color: red;
        }

        /* Button style for other volumes */
        .default-volume {
            background-color: blue;
        }
    </style>
    
</head>
<body>
    <!-- https://ytmp3.cc/byoo/#WyqeTJJAY5E/mp3　to convert youtube to MP3 -->
    <button class="myButton" class="custom-btn" onclick="playClip('ManyBothansDied.mp3', 0.0, 4.9, 5,1,2)">bothansExcel</button>
    <button class="myButton" class="custom-btn" onclick="playClip('ManyBothansDied.mp3', 0.0, 4.9, 5,2,1)">bothansExcelFast</button>
    <button class="myButton" class="custom-btn" onclick="playClip('ManyBothansDied.mp3', 0.0, 4.9, 5,.5,1)">bothansExcelSlow</button>
    <button class="myButton" onclick="playClip('DonLapre.mp3', 57.5, 59, 2,.5,1)">aptSlow</button>
    <button class="myButton" onclick="playClip('DonLapre.mp3', 57.5, 59, 2,1,1)">aptNormal</button>
    <button class="myButton" onclick="playClip('DonLapre.mp3', 57.5, 59, 2,2,1)">aptFast</button>
    <button class="myButton" onclick="playClip('DonLapre.mp3', .9, 3.8, 2,1,1)">incredibleThing</button>
    <button class="myButton" onclick="playClip('TreasurySecretaryBessentGE.mp3', 262.00, 268.00, 1,2,1)">AnneMarie</button>
    <button class="myButton" onclick="playClip('TreasurySecretaryBessentGE.mp3', 258.40, 261.50, 2, 1,1)">A Cut?slow</button>
    <button class="myButton" onclick="playClip('titanicLego.mp3', 658, 720, 2, 2,1)">⭐️</button>
    <button class="myButton" onclick="playClip('WhatIsLove.mp3', 0, 400, 1, 1,.05)">WhatIsLove?</button>
    <!-- <button onclick="playClip('reverseKissenger.mp3', 0, 30, 1, 1,.1)">haiphong?</button> -->
    
<script>

function setButtonColor(speed) {
            const button = document.getElementsByClassName('myButton');
            
            // Remove any previous volume class
            // button.classList.remove('volume-1', 'volume-2', 'default-volume');
            
            // Add a class based on the second-to-last parameter (volume)
            if (speed === 1) {
                button.classList.add('volume-1');
            } else if (speed === 2) {
                button.classList.add('volume-2');
            } else {
                button.classList.add('default-volume');
            }
        }

        // Call the function to set the button color initially
        setButtonColor(1); // Set the button color for volume 1 (you can change thiclass
        // setButtonColor(2); // Set the button color for volume 1 (you can change this)

    function playClip(audioFile, startTime, endTime, loopCount,speed,volume) {

        let count = 0;
        const audio = new Audio(audioFile);
        audio.volume=volume
        audio.playbackRate=speed

        function loop() {
            if (count < loopCount) {
                audio.currentTime = startTime;
                audio.play();
                // audio.volume = volume

                // Stop the audio at the specified end time
                const duration = ((endTime - startTime)/speed) * 1000;
                setTimeout(() => {
                    audio.pause();
                    audio.currentTime = startTime; // Reset for the next loop
                    count++;
                    loop(); // Continue the loop
                }, duration);
            }
        }

        loop(); // Start the loop
    }
</script>
    
</body>
</html>